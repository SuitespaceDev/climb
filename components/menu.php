<div class="LiveMenu Interface controls">
    <section class="header">
        <button class="backBtn"><i class="expand fa fa-angle-left"></i></button>
        <button class="btn btn-secondary current-state ms-2" id="menuButton"><span id="menuButtonText">Location</span> <i class="fa fa-caret-down"></i></button>
        <ul class="breadcrumbs" style="display: none;"></ul>
    </section>
    <ul class="Toolbar">
        <div class="signOut">
            <button>
                <p>
                    <i class="bi bi-box-arrow-right"></i> Sign Out
                </p>
            </button>
        </div>
        <li>
            <div class="visual">
                <i class="icon bi bi-list-check"></i>
                <label>Procedures</label>
                <i class="expand fa fa-angle-right"> </i>
            </div>
            <ul>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label>Procedure 1</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>
                    <ul>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label>Child Item Name 1</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 2</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label>Child Item Name 3 </label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label> Procedure 2</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>
                    <ul>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 1</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 2</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 3</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label> Procedure 3</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>
                </li>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label> Procedure 4</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>

                    <ul>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 1</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 2</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Sub Item Name 3</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                            <ul>
                                <li>
                                    <div class="visual">
                                        <i class="icon bi bi-geo-alt"></i>
                                        <label> Child Item Name 1</label>
                                        <i class="expand fa fa-angle-right"></i>
                                    </div>
                                </li>
                                <li>
                                    <div class="visual">
                                        <i class="icon bi bi-geo-alt"></i>
                                        <label> Child Item Name 2</label>
                                        <i class="expand fa fa-angle-right"></i>
                                    </div>
                                </li>
                                <li>
                                    <div class="visual">
                                        <i class="icon bi bi-geo-alt"></i>
                                        <label>Child Item Name 3</label>
                                        <i class="expand fa fa-angle-right"></i>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <div class="visual">
                <i class="icon bi bi-clipboard"> </i>
                <label>Incident Reports</label>
                <i class="expand fa fa-angle-right"> </i>
            </div>
            <ul>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label>Report 1</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>

                </li>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label>Report 2</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>

                    <ul>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 1</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 2</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 3</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                    </ul>
                </li>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label> Report 3</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>
                </li>
                <li>
                    <div class="visual">
                        <i class="icon bi bi-geo-alt"></i>
                        <label> Report 4</label>
                        <i class="expand fa fa-angle-right"></i>
                    </div>
                    <ul>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Child Item Name 1</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label>Child Item Name 2</label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>
                        </li>
                        <li>
                            <div class="visual">
                                <i class="icon bi bi-geo-alt"></i>
                                <label> Sub Item Name 3 </label>
                                <i class="expand fa fa-angle-right"></i>
                            </div>

                            <ul>
                                <li>
                                    <div class="visual">
                                        <i class="icon bi bi-geo-alt"></i>
                                        <label> Child Item Name 1</label>
                                        <i class="expand fa fa-angle-right"></i>
                                    </div>
                                </li>
                                <li>
                                    <div class="visual">
                                        <i class="icon bi bi-geo-alt"></i>
                                        <label>Child Item Name 2</label>
                                        <i class="expand fa fa-angle-right"></i>
                                    </div>
                                </li>
                                <li>
                                    <div class="visual">
                                        <i class="icon bi bi-geo-alt"></i>
                                        <label>Child Item Name 3</label>
                                        <i class="expand fa fa-angle-right"></i>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>
<script>
    $('ul.Toolbar > li > .visual').click(function() {
        $('ul.Toolbar > li').removeClass('menu-active');
        $(this).parent().addClass('menu-active');
    });
    $('ul.Toolbar li .visual').click(function() {
        if ($(this).parent().find('ul').length > 0) {
            $('.breadcrumbs').html('');
            $('ul.Toolbar li').removeClass('active');
            $(this).parent().addClass('active');
            $('ul.Toolbar li').removeClass("selected");
            $(this).parents("li").addClass("selected");
            var selectedEle = ''
            $(this).parents("li").each(function() {
                if (!$(this).hasClass("active")) {
                    selectedEle += "<li><div class='visual'>";
                    selectedEle += $(this).find(".visual").html();
                    selectedEle += '</div></li>';
                }


            });
            selectedEle += "<li><div class='visual'>";
            selectedEle += $(this).html();
            selectedEle += '</div></li>';
            $('.breadcrumbs').append(selectedEle);
            var selectedOption = $(this).children('label').text();
            $('#menuButtonText').text(selectedOption);
        }
    });

    $('.LiveMenu .breadcrumbs').on('click', 'li', function(e) {
        $('.LiveMenu .breadcrumbs li').removeClass('active');
        e.stopPropagation();
        $(this).addClass('active');
    })
    $(document).ready(function() {
        $('#menuButton').click(function(e) {
            e.stopPropagation();
            $('.breadcrumbs').slideToggle();
            $(this).toggleClass('collapsed');

        });
        $('.backBtn').click(function(e) {
            if ($("li.active").parent("ul").parent('li').length > 0) {
                $("li.active").parent("ul").parent('li').children('.visual').trigger('click');
            }

        });
    });
</script>